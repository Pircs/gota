(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cab37c8"],{"041c":function(t,e,n){"use strict";n("b76c")},"443f":function(t,e,n){},51784:function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("top-menu",[n("div",{on:{click:t.backTo}},[t._v("🔙")]),n("div",{staticClass:"record-type"},[n("span",{class:[0===t.nowType?"active":""],on:{click:function(e){t.nowType=0}}},[t._v("支出")]),n("span",{class:[1===t.nowType?"active":""],on:{click:function(e){t.nowType=1}}},[t._v("收入")])]),n("span",[t._v("❗")])]),n("div",{staticClass:"main"},[n("div",{staticClass:"types"},[t._l(t.typeList,(function(e,c){return n("type-img",{key:e.name,class:[t.checkType===c?"active":""],attrs:{"class-prefix":"type",type:e},on:{"onClick:Type":function(e){return t.selectType(e,c)}}})})),n("type-img",{attrs:{"class-prefix":"type",type:{name:"添加",emoji:"➕"}},nativeOn:{click:function(e){return t.addType(e)}}})],2),n("note-input",{attrs:{num:t.record.num,note:t.record.note,"create-day":t.selectDate},on:{datepicker:function(e){t.showDatePick=!t.showDatePick},"update:note":function(e){return t.$set(t.record,"note",e)}}}),n("num-pad",{staticClass:"num-pad",attrs:{num:t.record.num},on:{"update:num":function(e){return t.$set(t.record,"num",e)},"record:done":function(e){return t.saveRecord(e)}}})],1),n("van-action-sheet",{attrs:{round:!1,duration:"0.2"},model:{value:t.showDatePick,callback:function(e){t.showDatePick=e},expression:"showDatePick"}},[n("date-picker",{attrs:{"show-date-pick":t.showDatePick,type:"date"},on:{"update:showDatePick":function(e){t.showDatePick=e},"update:show-date-pick":function(e){t.showDatePick=e},getPickDate:t.getPickDate}})],1),n("van-popup",{attrs:{round:""},model:{value:t.showAddType,callback:function(e){t.showAddType=e},expression:"showAddType"}},[n("add-type",{attrs:{type:t.nowType},on:{"close:add":function(e){t.showAddType=!1}}})],1)],1)},i=[],a=n("5530"),o=(n("99af"),n("159b"),n("b0c0"),n("b64b"),n("7d86")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"num",on:{click:t.inputNum}},[n("button",{attrs:{id:"1"}},[t._v("1")]),n("button",{attrs:{id:"2"}},[t._v("2")]),n("button",{attrs:{id:"3"}},[t._v("3")]),n("button",{staticClass:"operator",attrs:{id:"del"}},[n("icon",{attrs:{icon:"backspace"}})],1),n("button",{attrs:{id:"4"}},[t._v("4")]),n("button",{attrs:{id:"5"}},[t._v("5")]),n("button",{attrs:{id:"6"}},[t._v("6")]),n("button",{attrs:{id:"7"}},[t._v("7")]),n("button",{attrs:{id:"8"}},[t._v("8")]),n("button",{attrs:{id:"9"}},[t._v("9")]),n("button",{staticClass:"operator",attrs:{id:"ok"}},[t._v("OK")]),n("button",{attrs:{id:"."}},[t._v(".")]),n("button",{attrs:{id:"0"}},[t._v("0")]),n("button",{attrs:{id:"again"}},[t._v("再记")])])},r=[],u={props:["num"],data:function(){return{numPad:""}},methods:{inputNum:function(t){var e=t.target.id,n=this.numPad.substr(0,1),c=this.numPad.indexOf(".");if(""!==n||"."!==e){if(("0"!==n||"0"!==e||-1!==c)&&!("."===e&&c>-1))switch(e){case"ok":this.clickOk();break;case"del":this.clickDel();break;case"again":this.clickAgain();break;default:this.numPad.length<15&&(this.numPad+=e);break}}else this.numPad="0."},clickOk:function(){this.recordDone({data:this.numPad})},clickAgain:function(){this.recordDone({data:this.numPad,status:!0})},clickDel:function(){this.numPad=this.numPad.substring(0,this.numPad.length-1)},recordDone:function(t){this.$emit("record:done",t)}},watch:{numPad:function(t){this.$emit("update:num",t)}}},d=u,l=(n("041c"),n("2877")),p=Object(l["a"])(d,s,r,!1,null,"963ee870",null),h=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"record"},[n("div",{staticClass:"input-num"},[n("input",{class:[t.defaultNum!==t.num?"active":""],attrs:{type:"text",readonly:""},domProps:{value:t.num}})]),n("div",{staticClass:"notes"},[n("div",{staticClass:"input-class",on:{click:function(e){return t.$emit("datepicker")}}},[t._v(" "+t._s(t.createDay)+" ")]),n("input",{staticClass:"input-class",attrs:{type:"text",value:"",placeholder:this.defaultNote},on:{change:function(e){return t.inputNote(e)}}})])])},f=[],v={props:["num","note","createDay"],data:function(){return{defaultNum:null,defaultNote:null}},beforeMount:function(){this.defaultNum=this.num,this.defaultNote=this.note},methods:{inputNote:function(t){this.$emit("update:note",t.currentTarget.value)}}},y=v,b=(n("d46c"),Object(l["a"])(y,m,f,!1,null,"19145531",null)),k=b.exports,w=n("88e0"),T=n("2f62"),g=n("d399"),_=n("e94a"),j=n("5a0c"),P=n.n(j),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comp"},[n("p",[t._v("新增"+t._s(t.type?"收入":"支出")+"类别")]),n("div",{staticClass:"input-from"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.emoji,expression:"emoji"}],attrs:{type:"text",maxlength:"2",placeholder:"emoji"},domProps:{value:t.emoji},on:{input:function(e){e.target.composing||(t.emoji=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"类别名称",maxlength:"8"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"buttons"},[n("button",{on:{click:t.cancel}},[t._v("取消")]),n("button",{on:{click:t.add}},[t._v("添加")])])])},O=[],x={props:["type"],data:function(){return{emoji:null,name:null}},methods:Object(a["a"])(Object(a["a"])({},Object(T["b"])(["addType"])),{},{cancel:function(){this.$emit("close:add")},add:function(){return this.name?(this.emoji||(this.emoji=this.name.substr(0,1)),this.addType({emoji:this.emoji,name:this.name,cut:this.type}),this.name=null,this.emoji=null,this.$emit("close:add")):Object(g["a"])("类别名为什么")}})},C=x,$=(n("972e"),Object(l["a"])(C,D,O,!1,null,"061c62c7",null)),N=$.exports,A={components:{AddType:N,DatePicker:_["a"],TypeImg:w["a"],NoteInput:k,NumPad:h,TopMenu:o["a"]},data:function(){return{checkType:null,nowType:0,showDatePick:!1,showAddType:!1,record:{num:"0.00",note:"备注",type:null,create:new Date},editModel:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(T["c"])(["types"])),{},{selectDate:function(){var t=P()().isSame(this.record.create,"day");if(t)return"今日";var e=P()(this.record.create).month()+1,n=P()(this.record.create).date();return"".concat(e,"-").concat(n)},typeList:function(){var t=this,e=[];return this.types.forEach((function(n){n.cut===t.nowType&&e.push(n)})),e}}),beforeMount:function(){this.initTypes(),this.checkEdit()},methods:Object(a["a"])(Object(a["a"])({},Object(T["b"])(["setRecordList","editRecord","initTypes"])),{},{selectType:function(t,e){this.checkType=e,this.record.type=t},saveRecord:function(t){return this.record.type?"0.00"===this.record.num||""===this.record.num?1===this.record.type.cut?Object(g["a"])("".concat(this.record.type.name,"收入了多少钱")):Object(g["a"])("用于".concat(this.record.type.name,"花了多少钱")):("备注"===this.record.note&&(this.record.note=null),!1===this.editModel?(this.record.create=(new Date).toISOString(),this.setRecordList(this.record)):this.editRecord(this.record),t.status?(this.renewRecord(),Object(g["a"])("记账成功，再记一笔吧")):this.$router.back()):Object(g["a"])("这个钱是干啥花的你没选")},getPickDate:function(t){console.log(t),this.record.create=t},renewRecord:function(){this.checkType=null,this.record={num:"0.00",note:"备注",type:null,create:new Date}},addType:function(){this.showAddType=!this.showAddType},backTo:function(){this.$router.back()},checkEdit:function(){var t=this,e=this.$route.params;0!==Object.keys(e).length&&(this.editModel=!0,this.record=e,this.typeList.forEach((function(e,n){e.name===t.record.type.name&&(t.checkType=n)})))}})},E=A,R=(n("eec95"),Object(l["a"])(E,c,i,!1,null,"df0fde2e",null));e["default"]=R.exports},"71b0":function(t,e,n){},"972e":function(t,e,n){"use strict";n("443f")},"99af":function(t,e,n){"use strict";var c=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),s=n("7b0b"),r=n("50c4"),u=n("8418"),d=n("65f0"),l=n("1dde"),p=n("b622"),h=n("2d00"),m=p("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",y=h>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=l("concat"),k=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:a(t)},w=!y||!b;c({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,c,i,a,o=s(this),l=d(o,0),p=0;for(e=-1,c=arguments.length;e<c;e++)if(a=-1===e?o:arguments[e],k(a)){if(i=r(a.length),p+i>f)throw TypeError(v);for(n=0;n<i;n++,p++)n in a&&u(l,p,a[n])}else{if(p>=f)throw TypeError(v);u(l,p++,a)}return l.length=p,l}})},b76c:function(t,e,n){},c85e:function(t,e,n){},d46c:function(t,e,n){"use strict";n("71b0")},eec95:function(t,e,n){"use strict";n("c85e")}}]);
//# sourceMappingURL=chunk-2cab37c8.60e5b6b8.js.map